## notes

intended to note down current state of knowledge for reverse engineering

- LED strips (4 sides) have 80 LEDs in total:
    - left: 14
    - top: 26
    - right: 14
    - bottom: 26
- a full HID command takes up 91 bytes
    - 27 bytes of USB comms overhead
    - 64 data bytes for the light strip

There are different modes of operation:

#### off mode

Byte semantics:

- All commands except for sync mode seem to start with the byte sequence of `0x52 0x42`
- sync (movie mode / game mode / left to right / right to left) start with: `0x53 0x43`

  00: I believe this and the next byte determine the mode of operation. Lighting modes seem to be stored on the device,
  but for sync mode each light needs to be addressed individually
  01:
  02:
  03: Seems to be a simple command sequence counter over all commands. Ranges from 0x01 - 0xfe (both inclusive), and
  then
  restarts.
  04:

This mode turns the lights off. Data payloads for this command are:

```
 0 1 2 3 4 5 6 7 8 9
5242104186010000005051000000fe0b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5242104586010000005051000000fe0f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5242104986010000005051000000fe13000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5242105986010000005051000000fe23000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

52420660979100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5242106186010000005051000000fe2b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

52420664979500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5242106586010000005051000000fe2f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

52421068860185ff005051000000feb6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5242106986010000005051000000fe33000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

(left to right)
5242100d86010000005051000000fed7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
(right to left)
5242101186010000005051000000fedb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
(dynamic mode)
5242101986010000005051000000fee3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
(rythm mode)
5242101c86010000005051000000fee6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
(static light mode)
5242102186010000005051000000feeb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
(sync mode game)
5242102c86010000005051000000fef6000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
(sync mode movie)
5242103c86010000005051000000fe06000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
```

#### static color (configurable brightness)

The 14th byte (0-indexed) seems to also do some counting (0x00 - 0xff; both inclusive), but the offset jumps around
depending on which RGB hex value you select. Perhaps sending always 0x00 is possible for this field

#### sync mode (game mode / movie mode) (left / right orientation)

Sync seems to work by sending 5 commands in quick succession. Here's an example sequence:

```
534301019b8001372f2d01022d2d2d03042d2d2d04052d2d2d07082d2d2d08092d2d2d0a0b2d2d2d0b0c3131310d0e1f211f0e0f1f211f10111a2a1a1112192a
191314192a191415192a191617192a191819192a191a1b192a191c1d192a191e1f192a192021192a192122253524232421322124252c3d2c2627243321272829
2e232829292e232a2b423b382b2c4a443b2d2e52524f2e2f4342473132323539323329292934352929293536312f343637312f3437382e2e3438392d2b2d3a3b
2c2c2e3b3c272e323d3e2832393e3f3e41444041373c3d4243342e2544452b2c2e4647292c3148492c27274a4b2a292b4b4c2825264d4e2f2b2c4e4f372f2d50
4f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
```

These five are sent with little delay (1ms) inbetween, the next quintet is sent after roughly 40ms.

Here's an example of what's sent when the screen is only displaying a red still image in fullscreen:

```
534301013b8001ff00000102ff00000304ff00000405ff00000708ff00000809ff00000a0bff00000b0cff00000d0eff00000e0fff00001011ff00001112ff00
001314ff00001415ff00001617ff00001819ff00001a1bff00001c1dff00001e1fff00002021ff00002122ff00002324ff00002425ff00002627ff00002728ff
00002829ff00002a2bff00002b2cff00002d2eff00002e2fff00003132ff00003233ff00003435ff00003536ff00003637ff00003738ff00003839ff00003a3b
ff00003b3cff00003d3eff00003e3fff00004041ff00004243ff00004445ff00004647ff00004849ff00004a4bff00004b4cff00004d4eff00004e4fff000050
e9000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

```

80 LEDs are steered by 50 individual hex values. This seemingly happens by defining at first an RGB value, and then two
LED ids that are supposed to be addressed.
Some LEDs seem to be addressed multiple times (0x04, 0x04, 0x11, 0x14, 0x21, 0x24, 0x27, 0x28, 0x2b, 0x35, 0x36, 0x37,
0x38, 0x3b, 0x3e, 0x4b, 0x4e) while one seems to be missing at all (0x06)
Each RGB value addresses two LEDs, though some LEDs are addressed more than once. I am not sure which values trump which
in that case.

Here are some 5 more captures:

```
53430101378001ff00000102ff00000203ff00000405ff00000506ff00000809ff0000090aff00000b0cff00000c0dff00000e0fff00000f10ff00001011ff00
001213ff00001314ff00001516ff00001617ff00001819ff00001a1bff00001c1dff00001e1fff00002021ff00002223ff00002324ff00002526ff00002627ff
00002829ff0000292aff00002b2cff00002c2dff00002e2fff00002f30ff00003233ff00003334ff00003536ff00003637ff00003839ff0000393aff00003b3c
ff00003c3dff00003e3fff00004041ff00004243ff00004445ff00004647ff00004849ff0000494aff00004b4cff00004c4dff00004e4fff00004f50ff000050
d1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

53430101388001ff00000102ff00000203ff00000405ff00000506ff00000809ff0000090aff00000b0cff00000c0dff00000e0fff00000f10ff00001011ff00
001213ff00001314ff00001516ff00001617ff00001819ff00001a1bff00001c1dff00001e1fff00002021ff00002223ff00002324ff00002526ff00002627ff
00002829ff0000292aff00002b2cff00002c2dff00002e2fff00002f30ff00003233ff00003334ff00003536ff00003637ff00003839ff0000393aff00003b3c
ff00003c3dff00003e3fff00004041ff00004243ff00004445ff00004647ff00004849ff0000494aff00004b4cff00004c4dff00004e4fff00004f50ff000050
d2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

53430101398001ff00000102ff00000203ff00000405ff00000506ff00000809ff0000090aff00000b0cff00000c0dff00000e0fff00000f10ff00001011ff00
001213ff00001314ff00001516ff00001617ff00001819ff00001a1bff00001c1dff00001e1fff00002021ff00002223ff00002324ff00002526ff00002627ff
00002829ff0000292aff00002b2cff00002c2dff00002e2fff00002f30ff00003233ff00003334ff00003536ff00003637ff00003839ff0000393aff00003b3c
ff00003c3dff00003e3fff00004041ff00004243ff00004445ff00004647ff00004849ff0000494aff00004b4cff00004c4dff00004e4fff00004f50ff000050
d3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

534301013a8001ff00000102ff00000203ff00000405ff00000506ff00000809ff0000090aff00000b0cff00000c0dff00000e0fff00000f10ff00001011ff00
001213ff00001314ff00001516ff00001617ff00001819ff00001a1bff00001c1dff00001e1fff00002021ff00002223ff00002324ff00002526ff00002627ff
00002829ff0000292aff00002b2cff00002c2dff00002e2fff00002f30ff00003233ff00003334ff00003536ff00003637ff00003839ff0000393aff00003b3c
ff00003c3dff00003e3fff00004041ff00004243ff00004445ff00004647ff00004849ff0000494aff00004b4cff00004c4dff00004e4fff00004f50ff000050
d4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

534301013b8001ff00000102ff00000203ff00000405ff00000506ff00000809ff0000090aff00000b0cff00000c0dff00000e0fff00000f10ff00001011ff00
001213ff00001314ff00001516ff00001617ff00001819ff00001a1bff00001c1dff00001e1fff00002021ff00002223ff00002324ff00002526ff00002627ff
00002829ff0000292aff00002b2cff00002c2dff00002e2fff00002f30ff00003233ff00003334ff00003536ff00003637ff00003839ff0000393aff00003b3c
ff00003c3dff00003e3fff00004041ff00004243ff00004445ff00004647ff00004849ff0000494aff00004b4cff00004c4dff00004e4fff00004f50ff000050
d5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

```

when simulating this mode, there seems to be commands going missing. there is a repeating pattern, which means that
there should be some logic behind it.
The sequence goes as follows (1 works, 0 does not):

- 1111
- 0110
- 1101
- 1011

and then it repeats

#### dynamic (with configurable speed)

#### rhythm (with configurable speed)



